
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>通过github和octopress搭建Blog详细步骤以及通过Octopress写博客的步骤 - Chienlung's Blog</title>
  <meta name="author" content="Chienlung">

  
  <meta name="description" content="这篇文章是为像我一样的不懂ruby、不懂git的newbie写的，大牛请绕路。 开始之前先说点题外话，这几天对于我这个newbie来说是痛苦的，上段时间开始对Python极其感兴趣，自己又很喜欢豆瓣，所以想用豆瓣的API做点什么，于是为了获取Python版本的API，所以注册了github， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://Chienlung.github.com/blog/2012/12/16/tong-guo-githubhe-octopressda-jian-blogxiang-xi-bu-zou-yi-ji-tong-guo-octopressxie-bo-ke-de-bu-zou/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Chienlung's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Chienlung's Blog</a></h1>
  
    <h2>宗介波妞手拉手，宗介永远爱波妞。</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:Chienlung.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">通过github和octopress搭建Blog详细步骤以及通过Octopress写博客的步骤</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-16T21:39:00+08:00" pubdate data-updated="true">Dec 16<span>th</span>, 2012</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>这篇文章是为像我一样的不懂ruby、不懂git的newbie写的，大牛请绕路。</p>

<p>开始之前先说点题外话，这几天对于我这个newbie来说是痛苦的，上段时间开始对Python极其感兴趣，自己又很喜欢豆瓣，所以想用豆瓣的API做点什么，于是为了获取Python版本的API，所以注册了github，但是我真的对这个网站毫无概念，就觉得跟网盘差不多，因为我相当孤陋寡闻，对于Linus开发的git听都没听过，我觉得自己简直弱爆了。这次通过搭建这个Blog，觉得github真的好酷！</p>

<p>搭建过程最最好的指导莫过于octopress的<a href="http://octopress.org/docs/">官方文档</a>，我开始为了图省劲，不停的搜索相关的搭建步骤，可是很失望，没有一个文档对我这个newbie的胃口。所以我就直接看官方文档，而且官方文档我也没全看，因为我只想快速把Blog搭起来，其它的我不想现在配置，facebook不是有句名言叫做<em>Done is better than perfect</em>吗？先搭起来再说。</p>

<p><a href="http://octopress.org/docs/">官方文档</a>中，我重点看的文档主要是两部分，一部分是<em>Getting Started</em>里面的<a href="http://octopress.org/docs/setup/">Initial setup</a>，另一部分是<em>Using Octopress</em>里面的<a href="http://octopress.org/docs/deploying/">Deploying Octopress</a>。其它的我觉得都是属于Perfect部分，我这里只说Done的部分。</p>

<h1>第一部分<a href="http://octopress.org/docs/setup/">Initial setup</a></h1>

<ol>
<li><p>安装Git</p>

<p> 在<em>Before You Begin</em>中的第1步<em>Install Git</em>那个链接你就不要按了，在天朝打不开，每次遇到科技网站打不开的时候我就抓狂得很！怎么安装呢，如果你跟我一样用的是Ubuntu 12.04，那么打开你的Terminal，输入：</p>

<pre><code>     sudo apt-get install git-core
</code></pre>

<p> 其它系统请自行Google。</p></li>
<li><p>安装Ruby 1.9.3</p>

<p> 我选择的是RVM，因为那几天<a href="http://octopress.org/docs/setup/rbenv/">rbenv</a>这个链接我打不开，所以我用的是<a href="http://octopress.org/docs/setup/rvm/">RVM</a>这个链接。严格按着每一步来执行。先是</p>

<pre><code>     curl -L https://get.rvm.io | bash -s stable --ruby
</code></pre>

 这个地方需要非常注意，这个命令执行后的提示非常重要，命令执行一会后会提示你输入

<pre><code>     q
</code></pre>

 然后才能继续，这个没有问题，然后命令执行完毕后，会提示你运行

<pre><code>     source /home/chienlung/.rvm/scripts/rvm
</code></pre>

 这个真的非常重要，否则后面安装Octopress时会出错，对于我这个Ruby小白来说我不知道为什么这样，但是这个命令很重要，我猜应该是运行rvm，否则后面那个命令会出错。运行完这个命令后。把文档中提示的下面三条命令：

<pre><code>     rvm install 1.9.3 
     rvm use 1.9.3 
     rvm rubygems latest
</code></pre>

 运行完毕，RVM就算装完了。完事你可以输入

<pre><code>     ruby --version
</code></pre>

<p> 来查看你用的是否为ruby 1.9.3，这个没什么问题。</p></li>
<li><p>安装Octopress</p>

<p> <a href="http://octopress.org/docs/setup/">Setup Octopress</a>时，严格执行文档中这三个命令即可：</p>

<pre><code>     git clone git://github.com/imathis/octopress.git octopress
     cd octopress    # If you use RVM, You'll be asked if you trust the .rvmrc file (say yes).
     ruby --version  # Should report Ruby 1.9.3
</code></pre>

 然后紧接着执行下面命令来安装依赖，也许你现在犹豫刚才<code>cd octopress</code>了，现在要不要退出来，千万别，如果没有提示，这些命令必须在这个文件夹下执行：

<pre><code>     gem install bundler # 这里可能因为墙，或者网速可能会超时，那就重复尝试，实在不行换个时间点再来做
     rbenv rehash    # If you use rbenv, rehash to be able to run the bundle command，如果前面安的是RVM，这句不用执行
     bundle install  # 还记得前面装RVM时我那个说点很重要那个命令了吗，如果不执行那句，这里就会失败
</code></pre>

 然后安装默认的Octopress theme，执行下面这个命令：

<pre><code>     rake install
</code></pre>

 好了，到这里算是安装完Octopresss了。

<h1>第二部分<a href="http://octopress.org/docs/deploying/github/">Deploying to Github Pages</a></h1></li>
<li><p>创建<a href="https://github.com/new">new Github repository</a></p>

<p> 这里先多说两句，在我们的Blog中为什么涉及到Github呢，因为，Github相当于我们的免费主机，我们把Blog的所有代码和相关内容都存储到了Github上，所以才有了这里的为我们的Blog创建一个Github仓库。<a href="https://github.com/new">戳这</a>进入创建repository，这里又有一个地方容易出错，就是repository name，这个名字的格式为<em>username.github.com</em>，这里的<em>username</em>必须跟你的github网站用户名相同，比如我的github用户名叫Chienlung，然后的repository name必须为<em>chienlung.github.com</em>，而不能是其它。开始我本来打算它<em>ponyo.github.com</em>，可是后面就是不成功，详细原因我还没去细究，先不管它，搭起来再说。后面Description你可也随便写，也可也不写。再后面一般选public，要是选private是要给github交钱的。再后面Initialize this repository with a README 前面的勾可以勾上也可也不勾上，它推荐勾上。好了，点击Create repository就完成了。
 这里还要多说几句，就是如果你申请github帐号后需要在本地系统生成SSH KEY，然后贴到你的github账户里，因为octopress命令是通过SSH方式进行Deploy的。如果你已经做过了，那就跳过这里。点击<a href="https://help.github.com/articles/generating-ssh-keys">Generating SSH Keys</a>，这个页面有详细的生成SSH KEY的步骤：
 打开一个新的Terminal终端，按如下步骤进行：
 第一步输入：</p>

<pre><code>     cd ~/.ssh #这个命令是检查你的用户目录下是否有一个叫.ssh的目录，如果没有的话直接跳到第三步，否则到第二步
</code></pre>

 第二步输入：

<pre><code>     ls # 这个命令会列出.ssh目录下的子目录，看里面是否有个叫id_rsa的。反正我这没有，没有的话直接跳到第三步，否则继续
     mkdir key_backup # 创建一个叫key_backup的目录
     cp id_rsa* key_backup # 把id_rsa keypair拷贝到key_backup目录下，我对这里id_rsa为什么后面跟个星号，我不清楚，通配符吗？我没用过这个命令
     rm id_rsa* # 删除这个id_rsa keypair
</code></pre>

 第三步输入(执行下面命令的时候，会问你是否输入一个文件来保存生成的key，官网要求什么也别输入，直接按Enter键即可)：

<pre><code>     ssh-keygen -t rsa -C "your_email@youremail.com" # 用你提供的Email生成key，这里的Email没有详细说明，我用的是注册github时用的那个。 
</code></pre>

 执行上面这个命令后，会有下面的提示：

<pre><code>     Enter passphrase (empty for no passphrase): # 这里的passphrase就是密码的意思，你随便输入一个密码，自己记住，以后deploy时会用到这个密码，这个密码也可以为空
     Enter same passphrase again: # 再次输入密码进行确认
</code></pre>

 第四步输入：

<pre><code>     sudo apt-get install xclip # 安装xclip，这是一个很碉堡的clipboard
     xclip -sel clip &lt; ~/.ssh/id_rsa.pub # 把id_rsa.pub文件里的内容拷贝到这个碉堡的clipboard上
</code></pre>

<p> 然后点击<a href="https://github.com/settings/profile">这里</a>去你的github“账户设置”，在这个页面左边侧条里有个<a href="https://github.com/settings/ssh">SSH Keys</a>链接，戳它转到一个新的页面，点击右上角那个“Add SSH Key”按钮，“Title”栏里你随便写，然后在“Key”栏里按Ctrl+V，就把你的SSH Key粘贴到里面了。然后点击“Add Key”按钮，好了，大功告成！</p></li>
<li><p>开始Deloy你的Blog
 执行下面的命令：</p>

<pre><code>     rake setup_github_pages # 这个命令执行后，会要求你输入你为Blog建立的repository的SSH地址，这个提示是个坑，而且不只有我一个newbie掉进去了，下面详细来说这个坑。
</code></pre>

 看<a href="http://stackoverflow.com/questions/12060903/github-error-repository-not-found-when-installing-octopress/13888445#13888445">stackoverflow关于这个坑的问答</a>，如果按照这个提示，我应该输入<code>git@github.com:Chienlung/chienlung.github.com</code>，结果就是说这个repository找不到，因为这个根本不是repository的SSH地址，后面还必须要加上<code>.git</code>，所以正确的输入应该为<code>git@github.com:Chienlung/chienlung.github.com.git</code>。
 然后输入下面的命令：

<pre><code>     rake generate # 这个命令就是把按照所有的更新在本地生成网站。注意这个命令的输出，有时候你的更改出错的时候，这个命令不会执行成功，然后你可也根据输出来检查自己到底哪里出错了。
</code></pre>

 然后输入下面的命令：

<pre><code>     rake deploy # 这个命令开始部署网站了，它也会更新github我们这个repository的master分支。如果是第一次用这个命令，会要求输入密码，这个密码就是前面生成SSH Key时你设定的那么个密码。   
</code></pre>

<p> 上面这三个命令以后会频繁使用，只要你修改了Blog的配置，或者写了增删改了文章，就要执行上面三个命令来更新你的Blog。执行<code>rake deploy</code>成功后，github会给你的邮箱发送邮件，告诉你成功了过一会或者立刻你就能看到你Blog的更新，这个的确有延迟，但是延迟不会很久。</p></li>
<li><p>更新Blog在github的repository的source分支
 执行下面的命令：</p>

<pre><code> git add .
 git commit -m 'your message' # 这个‘your message’你可以随便写，反正我这个小白是这么个干的
 git push origin source # 这个命令把本地的关于Blog的源代码完全push到了github上存储起来了。
</code></pre>

<p> 以后你对Blog有所更改后，执行完毕这些命令后，去这个分支下点开文件你就会看到一些改变。这三个命令也经常使用，跟上面那三个一样，你对你的Blog增删改以后要执行这个命令来更新repository。
到这里，算是完事了，输入你Blog的网址，类似与我这个<code>chienlung.github.com</code>，你就可以看到你的Blog啦。</p></li>
</ol>


<h1>第三部分：本地调试</h1>

<p>我觉得Octopress牛逼的地方，也是吸引我的地方就是写博客跟写程序似的。写完了你可以现在本地“调试”看结果，然后满意了再deploy到远端，下面我用修改Blog配置来举个例子。
找到Octopress文件夹下有个_config.yml文件，打开它，修改开头的一下内容：</p>

<pre><code>url: http://Chienlung.github.com
title: My Octopress Blog
subtitle: A blogging framework for hackers.
author: Your Name
simple_search: http://google.com/search
description:
</code></pre>

<p>把这些内容修改为下面的样子：</p>

<pre><code>url: http://Chienlung.github.com
title: 陆彦帑的博客
subtitle: 宗介波妞手拉手，宗介永远爱波妞。 
author: 陆彦帑
simple_search: http://google.com/search
description: 愿我如星君如月，夜夜流光相皎洁。
</code></pre>

<p>修改完后保存。然后执行如下命令：</p>

<pre><code>rake generate # 根据最新修改生成Blog，这里对于我等不懂Ruby的newbie来说又有个坑。
</code></pre>

<p><a href="http://stackoverflow.com/questions/10086806/i-can-not-do-any-modify-after-octopress-installed/13898285#13898285">stackoverflow也有关于这个坑的问答</a>，好吧，这个问答和上面那个都是我掉进去的坑，然后在stackoverflow上没有找到答案，我自己解决后顺便回答的。我掉进去的坑就是在description后面输入文字后rake generate时报错，我仔细看了编译输出然后把url后面的冒号连同空格复制到description后面，重新generate后才成功的，我猜是编码问题。
然后执行下面的命令：</p>

<pre><code>rake preview # 这个命令很碉堡，下面详细说。
</code></pre>

<p>在deploy之前执行这个命令，然后打开浏览器输入<code>localhost:4000</code>，就可以在本地查看你的修改后的Blog。而且，还有很重要的一点，这个命令执行过程中，你还可以接着修改你的Blog，修改完就立马显示到<code>localhost:4000</code>Blog内，直到你满意，然后按<code>Ctrl+C</code>退出这个命令。然后你就可以执行上面<code>开始Deloy你的Blog</code>和<code>更新Blog在github的repository的source分支</code>，里面我提到的六个命令来更新github和blog。</p>

<h1>第四步分：如何用Octopress写Blog以及写博客的两个命令</h1>

<p>我也是newbie，所以对这俩命令细节还不太清楚，而且我先在只会用其中一个。
先说我不会用的：</p>

<pre><code>rake new_page["文件名字"] # 我还没研究这个命令
</code></pre>

<p>我用过的一个：</p>

<pre><code>rake new_post["文件名字"] # 文件名字应该不能跟文件后缀，你可也试试加上会怎样。octopress内部会处理这个文件名，下面详细说下。
</code></pre>

<p>比如我这篇文章的文件名字叫<code>通过github和octopress搭建Blog步骤以及容易出错的地方</code>，它在home/octopress/source/posts目录下，而在这里的名字却是<code>2012-12-16-tong-guo-github-he-octopressda-jian-blogbu-zou-yi-ji-rong-yi-chu-cuo-de-di-fang.markdown</code>，看这个名字是不是很碉堡，注意后缀自动设置为了markdown。
好了，写了好几个小时，octopress真是个很合程序员口味的博客，这篇博客我就是在VIM中用Markdown写的。给你markdown语法的<a href="http://daringfireball.net/projects/markdown/syntax">英文版地址</a>和<a href="http://wowubuntu.com/markdown/">中文简体版地址</a>以及<a href="http://markdown.tw/">中文繁体版地址</a>。
看语法文档的时候如果能一边看一边练习就好了，当然很好了，所以再提供一个<a href="http://www.ctrlshift.net/project/markdowneditor/">Markdown在线编辑网站</a>。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Chienlung</span></span>

      








  


<time datetime="2012-12-16T21:39:00+08:00" pubdate data-updated="true">Dec 16<span>th</span>, 2012</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://Chienlung.github.com/blog/2012/12/16/tong-guo-githubhe-octopressda-jian-blogxiang-xi-bu-zou-yi-ji-tong-guo-octopressxie-bo-ke-de-bu-zou/" data-via="" data-counturl="http://Chienlung.github.com/blog/2012/12/16/tong-guo-githubhe-octopressda-jian-blogxiang-xi-bu-zou-yi-ji-tong-guo-octopressxie-bo-ke-de-bu-zou/" >Tweet</a>
  
  
  
  
    <a class="bshareDiv" href="http://www.bshare.cn/share">Sharing</a><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#uuid=a2292c22-20b6-4f24-98fe-4a4d07d25dd4 &amp;style=999&amp;img=http%3A%2F%2Fstatic.bshare.cn%2Fimages%2Fbuttons%2Fbox-shareTo-zh.gif&amp;w=147&amp;h=21"></script>
  
</div>


    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2012/12/17/dui-kosarajusuan-fa-de-li-jie-si-lu/" title="Next Post: 对kosaraju算法的理解思路">对kosaraju算法的理解思路 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>最新评论</h1>
  <script type="text/javascript" src="http://chienlung.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=200"></script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Chienlung -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'Chienlung';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://Chienlung.github.com/blog/2012/12/16/tong-guo-githubhe-octopressda-jian-blogxiang-xi-bu-zou-yi-ji-tong-guo-octopressxie-bo-ke-de-bu-zou/';
        var disqus_url = 'http://Chienlung.github.com/blog/2012/12/16/tong-guo-githubhe-octopressda-jian-blogxiang-xi-bu-zou-yi-ji-tong-guo-octopressxie-bo-ke-de-bu-zou/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
